"use strict";(self["webpackChunktemplate"]=self["webpackChunktemplate"]||[]).push([[637],{1218:function(e,n,o){o.d(n,{Z:function(){return d}});var t=o(3396),s=o(7139);const i=["src"];function a(e,n,o,a,c,r){return null!=e.phone_screen?((0,t.wg)(),(0,t.iD)("img",{key:0,src:e.phone_screen.img,onClick:n[0]||(n[0]=n=>e.phone_touch(n)),class:"img-thumbnail",style:(0,s.j5)({width:this.$props.width,height:this.$props.height})},null,12,i)):(0,t.kq)("",!0)}var c=o(2218),r=(0,t.aZ)({name:"MonitorPhoneScreen",props:{width:String,height:String,udid:String},data(){return{phone_screen:null}},async created(){(0,c.$)(),this.phone_connect(),this.phone_screens_connect()},methods:{phone_connect(){c.W.emit("join_room","phone_screens")},phone_screens_connect(){c.W.on("phone_screens_connect",(e=>{e.udid===this.udid&&(this.phone_screen=e)}))},phone_touch(e){e.target instanceof HTMLImageElement&&c.W.emit("phone_touch",{udid:this.udid,touch_x:e.offsetX,touch_y:e.offsetY,touch_w:e.target.naturalWidth,touch_h:e.target.naturalHeight})}}}),l=o(89);const p=(0,l.Z)(r,[["render",a]]);var d=p},637:function(e,n,o){o.r(n),o.d(n,{default:function(){return K}});var t=o(3396);const s={class:"container-xxxl"};function i(e,n,o,i,a,c){const r=(0,t.up)("ViewTitle"),l=(0,t.up)("MobilePhoneCards"),p=(0,t.up)("MonitorPhoneSaveButton");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(r,{title:"핸드폰 모니터링","sub-title":"핸드폰 행동을 모니터링 합니다."}),(0,t.Wm)(l),(0,t.Wm)(p)])}var a=o(7139);const c={class:"row g-0"},r={class:"col-md-7",style:{width:"calc(100% - 150px)"}},l={class:"card-body pb-0"},p={class:"card-title"},d={class:"fw-light mb-1",style:{"font-size":"0.7rem","white-space":"pre-line"}},h={class:"card-group card-mg-b"},u=["onClick"],_={key:0,class:"position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"},m={key:1,class:"position-absolute top-0 start-100 translate-middle p-2 bg-success border border-light rounded-circle"},g=["onClick"],f={key:0,class:"position-absolute top-0 start-100 translate-middle p-2 bg-danger border border-light rounded-circle"},b={key:1,class:"position-absolute top-0 start-100 translate-middle p-2 bg-success border border-light rounded-circle"},w=["onClick"],v={class:"card-group"},y={class:"list-group list-group-flush"},k={class:"list-group-item ps-0 pe-0"},P={class:"list-group-item ps-0 pe-0"},M={class:"list-group-item ps-0 pe-0 hover_popup text-truncate"},W=(0,t.Uk)("error : "),x=["title"];function C(e,n,o,s,i,C){const Z=(0,t.up)("MonitorPhoneScreen"),S=(0,t.up)("font-awesome-icon"),D=(0,t.up)("router-link");return(0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.phone_infos,(n=>((0,t.wg)(),(0,t.iD)("div",{key:n[1].udid,class:"card mb-3",style:{width:"400px"}},[(0,t._)("div",c,[(0,t.Wm)(Z,{width:"150px",height:"250px",udid:n[1].udid},null,8,["udid"]),(0,t._)("div",r,[(0,t._)("div",l,[(0,t._)("h6",p,(0,a.zw)(n[1].udid),1),(0,t._)("p",d,(0,a.zw)(n[1].ip_connection),1),(0,t._)("div",h,[(0,t.Wm)(D,{class:"btn btn-secondary me-2",to:"/automation/phoneAction?udid="+n[1].udid},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{class:"fa-fw",icon:"pen-to-square"})])),_:2},1032,["to"]),(0,t._)("button",{class:"btn btn-secondary me-2 position-relative",onClick:o=>e.phone_connect_wifi(n[1].udid)},[(0,t.Wm)(S,{class:"fa-fw",icon:"wifi"}),null===n[1].ip_connection?((0,t.wg)(),(0,t.iD)("span",_)):((0,t.wg)(),(0,t.iD)("span",m))],8,u),(0,t._)("button",{class:"btn btn-secondary me-2 position-relative",onClick:o=>e.phone_set_proxy(n[1].udid)},[(0,t.Wm)(S,{class:"fa-fw",icon:"tower-broadcast"}),n[1].is_proxy?((0,t.wg)(),(0,t.iD)("span",b)):((0,t.wg)(),(0,t.iD)("span",f))],8,g),(0,t._)("button",{class:"btn btn-secondary me-2",onClick:o=>e.loop_main_action(n[1].udid)},[(0,t.Wm)(S,{class:"fa-fw",icon:"play"})],8,w)]),(0,t._)("div",v,[(0,t._)("p",{class:"fw-light mb-0",style:(0,a.j5)([[1==n[1].message_success?{color:"black"}:{color:"red"}],{"font-size":"0.7rem","white-space":"pre-line"}])},(0,a.zw)(n[1].message),5)]),(0,t._)("ul",y,[(0,t._)("li",k,"action : "+(0,a.zw)(n[1].action_name),1),(0,t._)("li",P,"macro : "+(0,a.zw)(n[1].macro_name),1),(0,t._)("li",M,[W,(0,t._)("span",{class:"hover_popup text-danger",title:n[1].error_name},null,8,x)])])])])])])))),128)}var Z=o(2218),S=o(1218),D=o(6265),z=o.n(D),A=(0,t.aZ)({name:"MonitorPhoneCards",components:{MonitorPhoneScreen:S.Z},props:{},data(){return{phone_infos:new Map,runPhoneActionParameters:{udid:"",actionSeq:11}}},async created(){(0,Z.$)(),this.phones_connect(),this.phone_infos_connect()},methods:{phones_connect(){Z.W.emit("join_room","phone_infos")},phone_infos_connect(){Z.W.on("phone_infos_connect",(e=>{this.phone_infos.set(e.udid,e)}))},phone_connect_wifi(e){z().get("http://127.0.0.1:8082/api/monitor/phone/connect/wifi?udid="+e).then((n=>{if(this.phone_infos.has(e)){const o=this.phone_infos.get(e);if(void 0==o)return;o.message=n.data.message,o.message_success=n.data.success}})).catch((e=>console.log(e)))},phone_set_proxy(e){z().get("http://127.0.0.1:8082/api/monitor/phone/set/proxy?udid="+e).then((e=>{})).catch((e=>console.log(e)))},loop_main_action(e){this.runPhoneActionParameters.udid=e,z().get("http://127.0.0.1:8082/api/automation/phone/action/appium/loop",{params:this.runPhoneActionParameters}).then((e=>{console.log(e)})).catch((e=>console.log(e)))}}}),j=o(89);const $=(0,j.Z)(A,[["render",C],["__scopeId","data-v-254ae330"]]);var q=$;function B(e,n,o,s,i,a){return(0,t.wg)(),(0,t.iD)("button",{class:"btn btn-secondary",onClick:n[0]||(n[0]=(...n)=>e.saveAllMonitorPhones&&e.saveAllMonitorPhones(...n))},"save all phones")}var H=(0,t.aZ)({name:"MonitorPhoneSaveButton",data(){return{}},methods:{saveAllMonitorPhones(){z().post("http://127.0.0.1:8082/api/automation/phones").then((e=>{alert("저장되었습니다.")})).catch((e=>{console.log(e)}))}}});const T=(0,j.Z)(H,[["render",B]]);var V=T,I=o(3283),Y=(0,t.aZ)({name:"MonitorPhonesView",components:{MonitorPhoneSaveButton:V,MobilePhoneCards:q,ViewTitle:I.Z}});const E=(0,j.Z)(Y,[["render",i]]);var K=E}}]);
//# sourceMappingURL=637.8bfae007.js.map