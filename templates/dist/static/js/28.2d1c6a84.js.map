{"version":3,"file":"static/js/28.2d1c6a84.js","mappings":"gLACOA,MAAM,kB,0HAAXC,EAAAA,EAAAA,IAGM,MAHN,EAGM,EAFJC,EAAAA,EAAAA,IAAuEC,EAAA,CAA5DC,MAAM,WAAW,YAAU,mCACtCF,EAAAA,EAAAA,IAAsCG,K,wBCD1C,MAAMC,EAAa,CAAEN,MAAO,oBACtBO,EAAa,CAAC,OAEd,SAAUC,EAAOC,EAAUC,EAAYC,EAAYC,EAAYC,EAAWC,GAC9E,OAAQC,EAAAA,EAAAA,OAAcd,EAAAA,EAAAA,IAAoB,MAAOK,EAAY,CACrC,MAArBG,EAAKO,eACDD,EAAAA,EAAAA,OAAcd,EAAAA,EAAAA,IAAoB,MAAO,CACxCgB,IAAK,EACLC,IAAKT,EAAKO,aAAaG,IACvBC,QAASV,EAAO,KAAOA,EAAO,GAAMW,GAAiBZ,EAAKa,YAAYD,IACtErB,MAAO,iBACN,KAAM,EAAGO,KACZgB,EAAAA,EAAAA,IAAoB,IAAI,IAC5BC,EAAAA,EAAAA,KAAgBC,EAAAA,EAAAA,GAAoB,QAAS,CAC3CC,YAAa,SACbC,KAAM,OACN3B,MAAO,eACP,sBAAuBU,EAAO,KAAOA,EAAO,GAAMW,GAAkBZ,EAAKmB,2BAA2BC,YAAeR,IAClH,KAAM,KAAM,CACb,CAACS,EAAAA,GAAarB,EAAKmB,2BAA2BC,gBAEhDJ,EAAAA,EAAAA,GAAoB,SAAU,CAC5BE,KAAM,SACN3B,MAAO,4BACPoB,QAASV,EAAO,KAAOA,EAAO,GAEpC,IAAIqB,IAAUtB,EAAKuB,qBAAuBvB,EAAKuB,uBAAuBD,KAC/D,W,iCCvBP,GAAeE,EAAAA,EAAAA,IAAgB,CAC7BC,KAAM,sCAENC,OACE,MAAO,CACLC,KAAM,GACNpB,aAAc,KACdY,2BAA4B,CAC1BS,IAAK,eACLR,YAAa,MAKnBS,QAAS,CACPN,sBAEEO,IAAAA,IAAU,qDAAsD,CAACC,OAAQC,KAAKb,6BACzEc,MAAKC,IACAA,EAAIR,KAAKS,YAAc,GAAGA,YAC5BC,MAAM,oBAERJ,KAAKL,KAAOO,EAAIR,QAEjBW,OAAMC,GAAUC,QAAQC,IAAIF,MAGjCG,EAAAA,EAAAA,KACAT,KAAKU,gBACLV,KAAKW,yBAKPD,gBACEE,EAAAA,EAAAA,KAAY,YAAaZ,KAAKb,2BAA2BC,cAI3DuB,wBACEC,EAAAA,EAAAA,GAAU,yBAA0BlB,IAClCM,KAAKzB,aAAemB,EACpBM,KAAKL,KAAOD,EAAKC,SAKrBd,YAAYgC,GAEoB,IAA1Bb,KAAKzB,cAAcG,KAEnBmC,EAAMC,kBAAkBC,kBAE1BH,EAAAA,EAAAA,KAAY,cAAe,CACzBjB,KAAMK,KAAKL,KACXqB,QAASH,EAAMI,QACfC,QAASL,EAAMM,QACfC,QAASP,EAAMC,OAAOO,aACtBC,QAAST,EAAMC,OAAOS,oB,QC3DhC,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QHGA,GACE/B,KAAM,6BACNgC,WAAY,CACVC,oCADU,EAEVC,UAASA,EAAAA,IITb,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS5D,KAEpE","sources":["webpack://template/./src/views/automation/AutomationAgentJobView.vue","webpack://template/./src/components/automation/agentJob/AutomationAgentJobRequestScreenForm.vue?52fd","webpack://template/./src/components/automation/agentJob/AutomationAgentJobRequestScreenForm.vue?c097","webpack://template/./src/components/automation/agentJob/AutomationAgentJobRequestScreenForm.vue","webpack://template/./src/views/automation/AutomationAgentJobView.vue?627f"],"sourcesContent":["<template>\n  <div class=\"container-xxxl\">\n    <ViewTitle title=\"요원 작업 요청\" sub-title=\"수동 작업이 필요한 경우 요원에게 작업을 요청합니다.\"/>\n    <AutomationAgentJobRequestScreenForm/>\n  </div>\n</template>\n\n<script>\nimport ViewTitle from \"@/components/viewTitle/ViewTitle.vue\";\nimport AutomationAgentJobRequestScreenForm from \"@/components/automation/agentJob/AutomationAgentJobRequestScreenForm.vue\";\nexport default {\n  name: \"AutomationAgentJobView.vue\",\n  components: {\n    AutomationAgentJobRequestScreenForm,\n    ViewTitle\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"input-group w-25\" }\nconst _hoisted_2 = [\"src\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_ctx.phone_screen != null)\n      ? (_openBlock(), _createElementBlock(\"img\", {\n          key: 0,\n          src: _ctx.phone_screen.img,\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.phone_touch($event))),\n          class: \"img-thumbnail\"\n        }, null, 8, _hoisted_2))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"input\", {\n      placeholder: \"요원 이메일\",\n      type: \"text\",\n      class: \"form-control\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.assignJobToAgentParameters.agent_email) = $event))\n    }, null, 512), [\n      [_vModelText, _ctx.assignJobToAgentParameters.agent_email]\n    ]),\n    _createElementVNode(\"button\", {\n      type: \"button\",\n      class: \"btn btn-outline-secondary\",\n      onClick: _cache[2] || (_cache[2] = \n//@ts-ignore\n(...args) => (_ctx.assign_job_to_agent && _ctx.assign_job_to_agent(...args)))\n    }, \"작업 요청\")\n  ]))\n}","\nimport {defineComponent} from \"vue\";\nimport axios from \"axios\";\nimport {socket, connect} from \"@/components/socket/model/Socket\";\nimport PhoneScreen from \"@/components/automation/agentJob/model/PhoneScreen\";\n\nexport default defineComponent({\n  name: \"AutomationAgentJobRequestScreenForm\",\n\n  data() {\n    return {\n      udid: '',\n      phone_screen: null as PhoneScreen | null,\n      assignJobToAgentParameters: {\n        job: 'BING_CAPTCHA',\n        agent_email: ''\n      }\n    }\n  },\n\n  methods: {\n    assign_job_to_agent() {\n      // job 요청\n      axios.get('http://127.0.0.1:8082/api/automation/agentJob/udid', {params: this.assignJobToAgentParameters})\n          .then(res => {\n            if (res.data.toString() == {}.toString()) {\n              alert(\"할당 가능한 작업이 없습니다.\")\n            }\n            this.udid = res.data\n          })\n          .catch(error => (console.log(error)))\n\n      // room 연결\n      connect()\n      this.phone_connect()\n      this.phone_screens_connect()\n    },\n\n\n    // agent 의 room join\n    phone_connect() {\n      socket.emit('join_room', this.assignJobToAgentParameters.agent_email);\n    },\n\n    // 핸드폰 화면 소켓 수신\n    phone_screens_connect() {\n      socket.on('phone_screens_connect', (data: PhoneScreen) => {\n        this.phone_screen = data\n        this.udid = data.udid\n      })\n    },\n\n    // 터치 소켓 전송\n    phone_touch(event: PointerEvent) {\n      // 이미지가 없을 경우\n      if (this.phone_screen?.img == '') return\n      // 터치된 곳이 이미지일 경우\n      if (event.target instanceof HTMLImageElement) {\n        // 데이터 전송\n        socket.emit('phone_touch', {\n          udid: this.udid,\n          touch_x: event.offsetX,\n          touch_y: event.offsetY,\n          touch_w: event.target.naturalWidth,\n          touch_h: event.target.naturalHeight\n        });\n      }\n    }\n  }\n})\n","import { render } from \"./AutomationAgentJobRequestScreenForm.vue?vue&type=template&id=3dfc1b5d&ts=true\"\nimport script from \"./AutomationAgentJobRequestScreenForm.vue?vue&type=script&lang=ts\"\nexport * from \"./AutomationAgentJobRequestScreenForm.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/gimdohyeong/Desktop/appiumApi/templates/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AutomationAgentJobView.vue?vue&type=template&id=2a24c996\"\nimport script from \"./AutomationAgentJobView.vue?vue&type=script&lang=js\"\nexport * from \"./AutomationAgentJobView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/gimdohyeong/Desktop/appiumApi/templates/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createVNode","_component_ViewTitle","title","_component_AutomationAgentJobRequestScreenForm","_hoisted_1","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_openBlock","phone_screen","key","src","img","onClick","$event","phone_touch","_createCommentVNode","_withDirectives","_createElementVNode","placeholder","type","assignJobToAgentParameters","agent_email","_vModelText","args","assign_job_to_agent","defineComponent","name","data","udid","job","methods","axios","params","this","then","res","toString","alert","catch","error","console","log","connect","phone_connect","phone_screens_connect","socket","event","target","HTMLImageElement","touch_x","offsetX","touch_y","offsetY","touch_w","naturalWidth","touch_h","naturalHeight","__exports__","components","AutomationAgentJobRequestScreenForm","ViewTitle"],"sourceRoot":""}